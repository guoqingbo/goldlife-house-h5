webpackJsonp([12],{Bk19:function(e,t){},W3fA:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("mvHQ"),a=s.n(o),i=(s("OgVB"),s("/Lyv")),d=s.n(i),n=s("woOf"),c=s.n(n),r=s("pxwZ"),u={props:[],data:function(){return{loginName:"",houseLists:[],addComparedHouse:{},addType:this.$store.state.activeInfo.addType?this.$store.state.activeInfo.addType:1}},components:{houseItem:s("ps6j").a},created:function(){this.getloginName(),this.getHouseList()},methods:{getloginName:function(){var e=this;r.a.isLogin().then(function(t){t.data.success&&(e.loginName=t.data.result,e.getComparedList())})},getHouseList:function(){var e=this;1==this.addType?r.a.getContrastAttentionHouse().then(function(t){t.data.success?e.houseLists=t.data.result:e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(t){e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}):r.a.lookHouseHistory().then(function(t){if(t.data.success){var s=[];console.log(t.data.result),t.data.result.forEach(function(e){s.push(e.targetHouse)}),e.houseLists=s}else e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(e){console.log(e)})},getComparedList:function(){this.loginName&&localStorage.getItem("comparedList_hz_"+this.loginName)&&(this.addComparedHouse=JSON.parse(localStorage.getItem("comparedList_hz_"+this.loginName)),console.log(this.addComparedHouse))},selectedHouse:function(e){console.log(e.id),this.addComparedHouse[e.id]?delete this.addComparedHouse[e.id]:this.addComparedHouse[e.id]=e,console.log(this.addComparedHouse[e.id]),this.addComparedHouse=c()({},this.addComparedHouse)},addToComparedList:function(){var e=this;""!=this.loginName?(console.log(this.loginName),console.log(this.addComparedHouse),localStorage.setItem("comparedList_hz_"+this.loginName,a()(this.addComparedHouse)),this.$router.push({path:"/houseCompared"})):d()({title:"",message:"请登录查看",showCancelButton:!0,confirmButtonText:"登录"}).then(function(t){"confirm"==t&&e.$router.replace({path:"login",query:{redirect:e.$router.currentRoute.fullPath}})})}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"nav-header"},[s("span",{staticClass:"go-back",on:{click:function(t){e.$router.go(-1)}}},[s("i",{staticClass:"icon iconfont go-back-icon"},[e._v("")])]),e._v(" "),1==e.addType?s("span",{staticClass:"header-title"},[e._v("关注房源列表")]):e._e(),e._v(" "),2==e.addType?s("span",{staticClass:"header-title"},[e._v("看房记录列表")]):e._e()]),e._v(" "),s("div",[s("ul",{staticClass:"house-list"},e._l(e.houseLists,function(t,o){return s("li",{staticClass:"house-item clear",on:{click:function(s){e.selectedHouse(t)}}},[s("house-item",{attrs:{item:t,houseType:1,checkBox:!0}},[s("div",{staticClass:"check-box-div",attrs:{slot:"checkBox"},slot:"checkBox"},[s("span",{staticClass:"check-box",class:{"check-active":e.addComparedHouse[t.id]}})])])],1)}))]),e._v(" "),s("div",{staticClass:"add-to-compared",class:{"add-active":Object.keys(e.addComparedHouse).length},on:{click:e.addToComparedList}},[e._v("加入对比清单")])])},staticRenderFns:[]};var h=s("VU/8")(u,l,!1,function(e){s("Bk19")},"data-v-5c5edc2f",null);t.default=h.exports}});
//# sourceMappingURL=12.53902208d13cab9c2271.js.map