{"version":3,"sources":["webpack:///src/page/houseDetail/houseAppointment.vue","webpack:///./src/page/houseDetail/houseAppointment.vue?856c","webpack:///./src/page/houseDetail/houseAppointment.vue"],"names":["houseAppointment","data","pickerOptions0","disabledDate","time","getTime","Date","now","name","date","phone","inputLength","dateValue","desc","brokerId","houseId","verCode","datestamp","pickerValue","startDate","setHours","getHours","isOriginHei","screenHeight","document","documentElement","clientHeight","originHeight","pic","watch","text_length","this","length","current_width","parseInt","$refs","style","width","replace","val","created","console","log","$route","params","homes","$router","push","picList","img","$store","state","userInfo","loginName","components","mounted","self","window","onresize","methods","openPicker","picker","open","handleConfirm","getDate","year","getFullYear","month","getMonth","strDate","hour","minutes","getMinutes","getCode","_this","num","elementButton","button","timer","setInterval","innerHTML","disabled","clearInterval","axios","then","res","success","$toast","message","errorMessage","position","duration","sendAppointment","_this2","test","timestamp2","parse","appointmentInfo","cityId","id","phoneNum","broker_id","userName","errorMsg","catch","response","houseDetail_houseAppointment","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","go","_v","_s","title","describe","staticStyle","color","price","avgprice","attrs","src","__webpack_require__","directives","rawName","value","expression","ref","placeholder","domProps","input","target","composing","type","maxlength","pattern","preventDefault","_m","yearFormat","monthFormat","dateFormat","hourFormat","minuteFormat","confirm","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.e8a7e588fc292fd07a41.js","sourcesContent":["<template>\n  <div class=\"houseAppointment\">\n    <h1 class=\"nav-header\">\n      <span class=\"go-back\" @click=\"$router.go(-1)\"><i class=\"icon iconfont go-back-icon\">&#xe60f;</i></span>\n      <span class=\"header-title\">\n        看房预约\n      </span>\n    </h1>\n    <div class=\"houseDetail\">\n      <li>\n        <div>\n          <span class=\"span-top\">{{$route.params.homes.title}}</span>\n          <br>\n          <span class=\"span-small\">{{$route.params.homes.describe}}</span>\n          <span class=\"span-bottom\"><span style=\"color: #e10000\">{{$route.params.homes.price}}</span>&nbsp;&nbsp;&nbsp;{{$route.params.homes.avgprice}}</span>\n        </div>\n\n        <img :src=\"pic?pic:require('../../../static/bg_smallphotonormal@2x.png')\"><br/>\n      </li>\n    </div>\n    <div class=\"form\">\n      <div>\n        <div class=\"span-input centenr\">\n          <span class=\"span-left \">姓名：</span>\n          <input class=\"input-right name\" placeholder=\"看房人\" v-model=\"name\" ref=\"name\">\n        </div>\n        <div class=\"span-input dark centenr\" @click=\"openPicker\">\n          <span class=\"span-left\">看房时间：</span>\n          <input class=\"input-right date dark\" placeholder=\"请选择看房时间\" v-model=\"dateValue\" ref=\"date\" disabled=\"disabled\">\n          <i class=\"icon iconfont go-back-icon i-right\">&#xe6da;</i>\n        </div>\n        <div class=\"span-input centenr\">\n          <span class=\"span-left\">联系方式：</span>\n          <input class=\"input-right phone\" placeholder=\"请填写联系方式\" v-model=\"phone\" ref=\"phone\" type=\"tel\" maxlength=\"11\">\n        </div>\n        <div class=\"span-input dark centenr\">\n          <span class=\"span-left\">验证码：</span>\n          <input class=\"yan dark\" v-model=\"verCode\" pattern=\"[0-9]*\" type=\"tel\" maxlength=\"6\" >\n          <button class=\"input-right button\" ref=\"button\" @click.prevent=\"getCode()\">发送验证码</button>\n          <br>\n          <span class=\"xh\"><span>_</span><span>_</span><span>_</span><span>_</span><span>_</span><span>_</span></span>\n        </div>\n        <div class=\"span-input centenr\">\n          <span class=\"span-left\">备注：</span><br>\n        </div>\n        <div class=\"span-input dark noteDiv\">\n          <textarea class=\"span-left dark\" placeholder=\"请填写备注\" v-model=\"desc\"></textarea>\n        </div>\n      </div>\n      <div class=\"datePicker\">\n        <mt-datetime-picker\n          type=\"datetime\"\n          ref=\"picker\"\n          @confirm=\"handleConfirm\"\n          :startDate=\"startDate\"\n          yearFormat=\"{value}\"\n          monthFormat=\"{value}月\"\n          dateFormat=\"{value}日\"\n          hourFormat=\"{value}时\"\n          minuteFormat=\"{value}分\"\n        >\n        </mt-datetime-picker>\n      </div>\n      <div class=\"button-bottom\" @click=\"sendAppointment()\" v-show=\"isOriginHei\">提交</div>\n    </div>\n\n    <keep-alive>\n      <router-view></router-view>\n    </keep-alive>\n  </div>\n</template>\n\n<script>\n  import api from '../../api/axios'\n  //引入element组键（后续要去掉）\n\n\n  export default {\n    //参数\n    data() {\n      return {\n        pickerOptions0: {\n          disabledDate(time) {\n            return time.getTime() < Date.now();\n          }\n        },\n        name: '',\n        date: '',\n        phone: '',\n        inputLength: '',\n        dateValue: '',\n        desc: '',\n        brokerId: '',\n        houseId: '',\n        verCode: '',\n        datestamp: '',\n        pickerValue:'',\n        startDate: new Date(new Date().setHours(new Date().getHours()+1)),\n        isOriginHei: true,\n        screenHeight: document.documentElement.clientHeight,        //此处也可能是其他获取方法\n        originHeight: document.documentElement.clientHeight,\n        pic:'',\n      }\n    },\n    watch: {\n      name() {\n        var text_length = this.name.length;//获取当前文本框的长度\n        var current_width = parseInt(text_length) * 1.7;\n        if (current_width > 0) {\n          this.$refs.name.style.width = current_width + 'rem';\n        } else {\n          this.$refs.name.style.width = 5 + 'rem';\n        }\n      },\n      phone() {\n        var text_length = this.phone.length;//获取当前文本框的长度\n        var current_width = parseInt(text_length);\n        if (current_width > 0) {\n          this.$refs.phone.style.width = current_width + 'rem';\n        } else {\n          this.$refs.phone.style.width = 12 + 'rem';\n        }\n      },\n      verCode(){\n        this.verCode = this.verCode.replace(/[^0-9]/,'');\n      },\n      screenHeight (val) {\n        if(this.originHeight > val + 100) {        //加100为了兼容华为的返回键\n          this.isOriginHei = false;\n        }else{\n          this.isOriginHei = true;\n        }\n      }\n    },\n    created() {\n      console.log(this.$route.params.homes)\n      if(this.$route.params.homes == null){\n        this.$router.push({ name:'home',params: { }});\n      }else{\n        var picList = this.$route.params.homes.img;\n        if(picList != null && picList.length>0){\n          this.pic = picList[0];\n        }\n        this.phone = this.$store.state.userInfo.loginName;\n      }\n\n    },\n    components: {\n\n    },\n    mounted() {\n      let self = this;\n      window.onresize = function() {\n        return (function(){\n          self.screenHeight = document.documentElement.clientHeight;\n        })()\n      }\n    },\n\n    methods: {\n      openPicker () {\n        this.$refs.picker.open()\n      },\n      handleConfirm (data) {\n        this.dateValue = this.getDate(data);   //获取的时间为时间戳，getdata是自己写的一个转换时间的方法\n        console.log(this.dateValue)\n      },\n      getDate(data){\n        var year = data.getFullYear();\n        var month = data.getMonth() + 1;\n        var strDate = data.getDate();\n        if (month >= 1 && month <= 9) {\n          month = \"0\" + month;\n        }\n        if (strDate >= 0 && strDate <= 9) {\n          strDate = \"0\" + strDate;\n        }\n        var hour = data.getHours();\n        if (hour >= 0 && hour <= 9) {\n          hour = \"0\" + hour;\n        }\n        var minutes = data.getMinutes();\n        if (minutes >= 0 && minutes <= 9) {\n          minutes = \"0\" + minutes;\n        }\n        var currentdate = year + '/' + month + '/' + strDate + ' ' + hour + ':' + minutes;\n        return currentdate;\n      },\n      getCode() {\n        var num = 60;\n        var elementButton = this.$refs.button;\n        var timer = setInterval(function () {\n          num--;\n          elementButton.innerHTML = num + '秒';\n          elementButton.disabled = ' disabled';\n          if (num === 0) {\n            elementButton.disabled = '';\n            elementButton.innerHTML = '重新获取';\n            clearInterval(timer)\n          }\n        }, 1000);\n        api.getCode(this.phone)\n          .then(res => {\n            console.log(res);\n            if (res.data.success == false) {\n              this.$toast({\n                message: res.data.errorMessage,\n                position: 'bottom',\n                duration: 3000\n              });\n            }\n          });\n      },\n\n      sendAppointment() {\n        if (!this.name) {\n          this.$toast({\n            message: '请输入看房人姓名',\n            position: 'bottom',\n            duration: 3000\n          });\n          return\n        }\n        if (!this.dateValue) {\n          this.$toast({\n            message: '请选择看房时间',\n            position: 'bottom',\n            duration: 3000\n          });\n          return\n        }\n        var reg = 11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/;\n        if (!this.phone) {\n          this.$toast({\n            message: '请输入手机号',\n            position: 'bottom',\n            duration: 3000\n          });\n          return\n        } else if (!reg.test(this.phone)) {\n          this.$toast({\n            message: '手机号号码格式错误',\n            position: 'bottom',\n            duration: 3000\n          });\n          return\n        }\n        if (!this.verCode) {\n          this.$toast({\n            message: '请输入验证码',\n            position: 'bottom',\n            duration: 3000\n          });\n          return\n        }\n        /*if (!this.desc) {\n          this.$toast({\n            message: '请填写备注',\n            position: 'bottom',\n            duration: 3000\n          });\n          return\n        }*/\n        var timestamp2 = Date.parse(new Date(this.dateValue));\n        this.datestamp = timestamp2;\n        console.log(this.datestamp);\n        let appointmentInfo = {\n          cityId: this.$route.params.homes.cityId,\n          houseId: this.$route.params.homes.id,\n          phoneNum: this.phone,\n          verCode: this.verCode,\n          time: this.datestamp,\n          desc: this.desc,\n          brokerId: this.$route.params.homes.broker_id,\n          userName: this.name,\n        };\n        api.houseAppointment(appointmentInfo)\n          .then(res => {\n            console.log(res.data)\n            if (res.data.success) {\n              console.log('提交成功')\n              //跳转看房日程\n              this.$router.push({ name: 'lookHouseIndex', params: {}});\n            }else{\n              var errorMsg = res.data.errorMessage;\n              this.$toast({\n                message: errorMsg,\n                position: 'bottom',\n                duration: 3000\n              });\n              return\n            }\n          })\n          .catch(function (response) {\n\n          });\n\n      },\n    }\n  }\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '../../style/mixin';\n  @import \"../../../static/css/swiper.min.css\";\n\n  .houseAppointment{\n    font-size: 1.6rem;\n    /**导航*/\n    .nav-header {\n      position: relative;\n      background-color: #fff;\n      font-size: 1.6rem;\n      color: #424242;\n      height: 4.4rem;\n      line-height: 4.4rem;\n      //border-bottom: solid .6rem #f8f8f8;\n      .go-back {\n        position: absolute;\n        left: $contentPadding;\n      }\n      .go-back-icon {\n        font-size: 2rem;\n      }\n      .header-title {\n        display: inline-block;\n        width: 100%;\n        font-weight: bold;\n        text-align: center;\n      }\n    }\n\n    .houseDetail {\n      margin-top: 2rem;\n      height: 10rem;\n      margin-left: 1rem;\n      .span-top {\n        font-weight: bold;\n      }\n      .span-small {\n        font-size: 15px;\n        color: #A19FA2;\n      }\n      .span-bottom {\n        position: absolute;\n        top: 13.5rem;\n        left: 1rem;\n      }\n      div {\n        float: left;\n      }\n      img {\n        height: 9rem;\n        width: 12rem;\n        border-radius: 0.5rem;\n        position: absolute;\n        right: 2rem;\n      }\n    }\n\n    .form {\n      margin-top: 2rem;\n\n      .span-input {\n        height: 3.5rem;\n        padding-top: 0.6rem;\n        .center {\n          line-height: 3.5rem;\n        }\n        .span-left {\n          margin-left: 1rem;\n        }\n        .i-right {\n          position: absolute;\n          right: 1rem;\n          margin-top: 0.2rem;\n        }\n        .input-right {\n          position: absolute;\n          right: 1rem;\n          font-size: 1.6rem;\n        }\n        .el-date-editor {\n          border: none;\n        }\n        .name {\n          width: 5rem;\n        }\n        .phone {\n          width: 12rem;\n        }\n        .date {\n          margin-top: 0.2rem;\n          width: 15rem;\n        }\n        button {\n          color: #ffc16b;\n          background-color: #424242;\n          height: 3.4rem;\n          width: 10rem;\n          margin-top: -0.5rem;\n        }\n        .yan {\n          position: absolute;\n          width: 6rem;\n          right: 14rem;\n          z-index: 10;\n          font-size: 1.6rem;\n        }\n        .xh {\n          position: absolute;\n          top: 30.5rem;\n          right: 14rem;\n          span {\n            padding-left: 0.3rem;\n          }\n        }\n\n      }\n      .dark {\n        background-color: #f8f8f8;\n      }\n      .noteDiv {\n        height: 18rem;\n        width: 100%;\n      }\n      .button-bottom {\n        height: 4rem;\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n        background-color: #424242;\n        text-align: center;\n        line-height: 4rem;\n        color: #ffc16b;\n        font-size: 2rem;\n      }\n    }\n  }\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/houseDetail/houseAppointment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"houseAppointment\"},[_c('h1',{staticClass:\"nav-header\"},[_c('span',{staticClass:\"go-back\",on:{\"click\":function($event){_vm.$router.go(-1)}}},[_c('i',{staticClass:\"icon iconfont go-back-icon\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('span',{staticClass:\"header-title\"},[_vm._v(\"\\n      看房预约\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"houseDetail\"},[_c('li',[_c('div',[_c('span',{staticClass:\"span-top\"},[_vm._v(_vm._s(_vm.$route.params.homes.title))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"span-small\"},[_vm._v(_vm._s(_vm.$route.params.homes.describe))]),_vm._v(\" \"),_c('span',{staticClass:\"span-bottom\"},[_c('span',{staticStyle:{\"color\":\"#e10000\"}},[_vm._v(_vm._s(_vm.$route.params.homes.price))]),_vm._v(\"   \"+_vm._s(_vm.$route.params.homes.avgprice))])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.pic?_vm.pic:require('../../../static/bg_smallphotonormal@2x.png')}}),_c('br')])]),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[_c('div',[_c('div',{staticClass:\"span-input centenr\"},[_c('span',{staticClass:\"span-left \"},[_vm._v(\"姓名：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"name\",staticClass:\"input-right name\",attrs:{\"placeholder\":\"看房人\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"span-input dark centenr\",on:{\"click\":_vm.openPicker}},[_c('span',{staticClass:\"span-left\"},[_vm._v(\"看房时间：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dateValue),expression:\"dateValue\"}],ref:\"date\",staticClass:\"input-right date dark\",attrs:{\"placeholder\":\"请选择看房时间\",\"disabled\":\"disabled\"},domProps:{\"value\":(_vm.dateValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.dateValue=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"icon iconfont go-back-icon i-right\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"span-input centenr\"},[_c('span',{staticClass:\"span-left\"},[_vm._v(\"联系方式：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],ref:\"phone\",staticClass:\"input-right phone\",attrs:{\"placeholder\":\"请填写联系方式\",\"type\":\"tel\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"span-input dark centenr\"},[_c('span',{staticClass:\"span-left\"},[_vm._v(\"验证码：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.verCode),expression:\"verCode\"}],staticClass:\"yan dark\",attrs:{\"pattern\":\"[0-9]*\",\"type\":\"tel\",\"maxlength\":\"6\"},domProps:{\"value\":(_vm.verCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.verCode=$event.target.value}}}),_vm._v(\" \"),_c('button',{ref:\"button\",staticClass:\"input-right button\",on:{\"click\":function($event){$event.preventDefault();_vm.getCode()}}},[_vm._v(\"发送验证码\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"span-input dark noteDiv\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"span-left dark\",attrs:{\"placeholder\":\"请填写备注\"},domProps:{\"value\":(_vm.desc)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.desc=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"datePicker\"},[_c('mt-datetime-picker',{ref:\"picker\",attrs:{\"type\":\"datetime\",\"startDate\":_vm.startDate,\"yearFormat\":\"{value}\",\"monthFormat\":\"{value}月\",\"dateFormat\":\"{value}日\",\"hourFormat\":\"{value}时\",\"minuteFormat\":\"{value}分\"},on:{\"confirm\":_vm.handleConfirm}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOriginHei),expression:\"isOriginHei\"}],staticClass:\"button-bottom\",on:{\"click\":function($event){_vm.sendAppointment()}}},[_vm._v(\"提交\")])]),_vm._v(\" \"),_c('keep-alive',[_c('router-view')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"xh\"},[_c('span',[_vm._v(\"_\")]),_c('span',[_vm._v(\"_\")]),_c('span',[_vm._v(\"_\")]),_c('span',[_vm._v(\"_\")]),_c('span',[_vm._v(\"_\")]),_c('span',[_vm._v(\"_\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"span-input centenr\"},[_c('span',{staticClass:\"span-left\"},[_vm._v(\"备注：\")]),_c('br')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-02a40b75\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/houseDetail/houseAppointment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02a40b75\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./houseAppointment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./houseAppointment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./houseAppointment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02a40b75\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./houseAppointment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-02a40b75\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/houseDetail/houseAppointment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}