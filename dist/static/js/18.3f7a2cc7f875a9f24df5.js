webpackJsonp([18],{QrVH:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("pxwZ"),s={data:function(){return{computedTime:0,loginName:"",mobileCodeInput:""}},created:function(){},components:{},computed:{},methods:{getCode:function(){var e=this;this.loginName?/^1\d{10}$/gi.test(this.loginName)?(this.computedTime=30,this.timer=setInterval(function(){e.computedTime--,0==e.computedTime&&clearInterval(e.timer)},1e3),i.a.getCode(this.loginName).then(function(t){0==t.data.success&&e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3}),console.log(t)}).catch(function(e){this.$toast({message:e.error_msg,position:"bottom",duration:3e3})})):this.$toast({message:"手机号号码格式错误",position:"bottom",duration:3e3}):this.$toast({message:"请输入手机号",position:"bottom",duration:3e3})},userLogin:function(){var e=this;if(this.mobileCodeInput){var t={loginName:this.loginName,password:this.mobileCodeInput,type:2,redirectType:this.$route.query?this.$route.query.redirectType:"",openId:this.$route.query?this.$route.query.openId:"",code:this.$route.query?this.$route.query.code:""};console.log(t),i.a.userLogin(t).then(function(t){if(console.log(t.data),t.data.success){e.$store.commit("setUserInfo",{loginName:e.loginName});var o=t.data.result,i=decodeURIComponent(e.$route.query.redirect||"/");o?window.location.href=o:i&&e.$router.push({query:e.$route.query,path:i})}else e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(e){console.log(e)})}else this.$toast({message:"请输入验证码",position:"bottom",duration:3e3})}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"box"},[e._m(0),e._v(" "),o("div",{staticClass:"loginForm"},[o("div",{staticClass:"input-telpnone"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.loginName,expression:"loginName"}],attrs:{placeholder:"请输入手机号"},domProps:{value:e.loginName},on:{input:function(t){t.target.composing||(e.loginName=t.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.computedTime,expression:"!computedTime"}],staticClass:"right",on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.computedTime,expression:"computedTime"}],staticClass:"right"},[e._v("已发送("+e._s(e.computedTime)+"s)")])]),e._v(" "),o("div",{staticClass:"input-code"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobileCodeInput,expression:"mobileCodeInput"}],attrs:{placeholder:"请输入验证码"},domProps:{value:e.mobileCodeInput},on:{input:function(t){t.target.composing||(e.mobileCodeInput=t.target.value)}}})]),e._v(" "),o("button",{staticClass:"btn-login",on:{click:function(t){return t.preventDefault(),e.userLogin(t)}}},[e._v("立即登录")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"nav-header"},[t("span",{staticClass:"header-title"},[this._v("登录")])])}]};var a=o("VU/8")(s,n,!1,function(e){o("pZXO")},"data-v-0e078ee4",null);t.default=a.exports},pZXO:function(e,t){}});
//# sourceMappingURL=18.3f7a2cc7f875a9f24df5.js.map