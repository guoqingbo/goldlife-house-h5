webpackJsonp([8],{HwAW:function(e,s){},Mxmr:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t("pxwZ"),i=t("ra3+"),r={data:function(){return{houseTypeDetail:{1:"houseBuyDetail",2:"houseRentDetail",3:"villageDetail"}}},props:{houseLists:{},houseType:{default:1}},components:{houseItem:t("ps6j").a}},a={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("ul",{staticClass:"house-list"},e._l(e.houseLists,function(s){return t("li",{key:s.id,staticClass:"house-item clear"},[t("router-link",{attrs:{to:{name:e.houseTypeDetail[e.houseType],params:{cityId:"hz",houseId:s.id,userType:"customer",houseType:e.houseType}}}},[t("house-item",{attrs:{item:s,houseType:e.houseType}})],1)],1)}))])},staticRenderFns:[]};var n=t("VU/8")(r,a,!1,function(e){t("bkni")},"data-v-2c598f2e",null).exports,l={data:function(){return{type:"tab",isSell:!0,isRent:!1,center:{lng:116.40387397,lat:39.91488908},imgHouseAttr:["","",""],title:"",addressDetail:"",address:"",buildYear:"",builds:"",sellList:[],rentList:[],communityAround:[],attentionStatus:"关注",hoseLists:[],houseType:this.$route.params.houseType?this.$route.params.houseType:this.$store.state.activeInfo.houseType,filterType:"",orderFilter:[{orderColumn:"id",orderBy:"desc",describe:"最新发布"},{orderColumn:"price",orderBy:"asc",describe:"总价从低到高"},{orderColumn:"price",orderBy:"desc",describe:"总价从高到底"},{orderColumn:"avgprice",orderBy:"asc",describe:"单价从低到高"},{orderColumn:"buildarea",orderBy:"asc",describe:"面积从大到小"}],houseParams:{1:{cityId:"hz",communityId:"",areaIds:"",priceMin:"",priceMax:"",filterIds:[],pageSize:"",pageIndex:"",orderBy:"",orderColumn:""},2:{cityId:"hz",communityId:"",areaIds:"",priceMin:"",priceMax:"",filterIds:[],pageSize:"",pageIndex:"",orderBy:"",orderColumn:""}}}},created:function(){},components:{headTop:i.a,houseList:n},mounted:function(){this.menu(),this.getHoseLists()},methods:{getHoseLists:function(){var e=this;if(this.houseParams[this.houseType].communityId=this.$route.params.id?this.$route.params.id:this.$store.state.activeInfo.blockId,console.log("id"),console.log(this.$route.params.id),console.log(this.houseType),1==this.houseType){var s=this.houseParams[this.houseType];o.a.getSellHouseList(s).then(function(t){if(console.log("出售params"),console.log(s),console.log("出售结果"),console.log(t),t.data.success){var o=t.data.result;e.hoseLists=o.list,e.hoseLists.length>0&&(e.title=e.hoseLists[0].block_name),e.recomment=o.recomment}else e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(s){e.$toast({message:s.data.errorMessage,position:"bottom",duration:3e3})})}else if(2==this.houseType){var t=this.houseParams[this.houseType];o.a.getRentHouseList(t).then(function(s){if(console.log("出租params"),console.log(t),console.log("出租结果"),console.log(s),s.data.success){var o=s.data.result;e.hoseLists=o.list,e.hoseLists.length>0&&(e.title=e.hoseLists[0].block_name)}else e.$toast({message:s.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(s){e.$toast({message:s.data.errorMessage,position:"bottom",duration:3e3})})}this.$store.commit("setActiveInfo",{blockId:this.houseParams[this.houseType].communityId,houseType:this.houseType})},opentFilter:function(e){this.filterType?this.filterType="":this.filterType=e},setOrderValue:function(e,s){this.houseParams[this.houseType].orderBy=s.orderBy,this.houseParams[this.houseType].orderColumn=s.orderColumn,this.getHoseLists(),this.filterType=""},menu:function(){window.scrollTo(0,0)}}},c={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"villageMore"},[t("h1",{staticClass:"nav-header"},[t("span",{staticClass:"go-back",on:{click:function(s){e.$router.go(-1)}}},[t("i",{staticClass:"icon iconfont go-back-icon"},[e._v("")])]),e._v(" "),t("span",{staticClass:"header-title"},[e._v(e._s(this.title))])]),e._v(" "),t("div",{staticClass:"search"},[t("span",{staticClass:"left"},[e._v(e._s(this.title))]),e._v(" "),t("span",{staticClass:"right",on:{click:function(s){e.opentFilter("filterOrder")}}},[e._v("综合排序\n        "),t("i",{staticClass:"icon iconfont",class:{"select-active-icon":"filterOrder"==e.filterType}},[e._v("")])])]),e._v(" "),t("house-list",{attrs:{houseLists:e.hoseLists,houseType:e.houseType}}),e._v(" "),"filterOrder"==e.filterType?t("div",{staticClass:"filter-order"},[t("div",{staticClass:"clear"},[t("ul",{staticClass:"filter-order-ul left"},e._l(e.orderFilter,function(s,o){return t("li",{class:{"select-font-active":e.houseParams[e.houseType].orderColumn==s.orderColumn&&e.houseParams[e.houseType].orderBy==s.orderBy},on:{click:function(t){e.setOrderValue(t,s)}}},[e._v("\n          "+e._s(s.describe)+"\n        ")])}))]),e._v(" "),t("div",{staticClass:"filter-mask",on:{click:function(s){e.opentFilter("district")},touchmove:function(e){e.preventDefault()}}})]):e._e(),e._v(" "),t("keep-alive",[t("router-view")],1)],1)},staticRenderFns:[]};var u=t("VU/8")(l,c,!1,function(e){t("HwAW")},"data-v-caf2f3d2",null);s.default=u.exports},bkni:function(e,s){}});
//# sourceMappingURL=8.9a0ae9cde51ceb85f3bd.js.map