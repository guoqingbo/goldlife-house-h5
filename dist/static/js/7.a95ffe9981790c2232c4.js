webpackJsonp([7],{ORnO:function(e,t){},QrVH:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("pxwZ"),a={data:function(){return{computedTime:0,loginName:"",mobileCodeInput:""}},created:function(){},components:{headTop:o("ra3+").a,alert:alert},computed:{},methods:{getCode:function(){var e=this;this.loginName?/^1\d{10}$/gi.test(this.loginName)?(this.computedTime=30,this.timer=setInterval(function(){e.computedTime--,0==e.computedTime&&clearInterval(e.timer)},1e3),s.a.getCode(this.loginName).then(function(t){0==t.data.success&&e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3}),console.log(t)}).catch(function(e){this.$toast({message:e.error_msg,position:"bottom",duration:3e3})})):this.$toast({message:"手机号号码格式错误",position:"bottom",duration:3e3}):this.$toast({message:"请输入手机号",position:"bottom",duration:3e3})},userLogin:function(){var e=this;if(this.mobileCodeInput){var t={loginName:this.loginName,password:this.mobileCodeInput,type:2,redirectType:this.$route.params?this.$route.params.redirect:""};console.log(t),s.a.userLogin(t).then(function(t){if(console.log(t.data),t.data.success){e.$store.commit("setUserInfo",{loginName:e.loginName});var o=t.data.result;e.$messageBox.alert(o,"回掉地址"),o&&(window.location.href=o)}else e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(e){console.log(e)})}else this.$toast({message:"请输入验证码",position:"bottom",duration:3e3})}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("head-top"),e._v(" "),o("h1",{staticClass:"nav-header"},[o("span",{staticClass:"go-back",on:{click:function(t){e.$router.go(-1)}}},[o("i",{staticClass:"icon iconfont go-back-icon"},[e._v("")])]),e._v(" "),o("span",{staticClass:"header-title"},[e._v("登录")])]),e._v(" "),o("form",{staticClass:"loginForm"},[o("div",{staticClass:"input-telpnone"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.loginName,expression:"loginName"}],attrs:{placeholder:"请输入手机号"},domProps:{value:e.loginName},on:{input:function(t){t.target.composing||(e.loginName=t.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.computedTime,expression:"!computedTime"}],staticClass:"right",on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.computedTime,expression:"computedTime"}],staticClass:"right"},[e._v("已发送("+e._s(e.computedTime)+"s)")])]),e._v(" "),o("div",{staticClass:"input-code"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobileCodeInput,expression:"mobileCodeInput"}],attrs:{placeholder:"请输入验证码"},domProps:{value:e.mobileCodeInput},on:{input:function(t){t.target.composing||(e.mobileCodeInput=t.target.value)}}})]),e._v(" "),o("el-button",{staticClass:"btn-login",on:{click:e.userLogin}},[e._v("立即登录")])],1)],1)},staticRenderFns:[]};var n=o("VU/8")(a,i,!1,function(e){o("ORnO")},"data-v-33ea175b",null);t.default=n.exports}});
//# sourceMappingURL=7.a95ffe9981790c2232c4.js.map