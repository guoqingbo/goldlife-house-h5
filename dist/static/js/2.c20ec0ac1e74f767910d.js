webpackJsonp([2],{"0QXR":function(t,e){},"4R8/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("a3Yh"),a=n.n(s),i=n("pxwZ"),o=n("ra3+"),l=n("jkKj"),r=n.n(l),c=n("oefm"),u={data:function(){var t;return t={type:"tab",address_detail:null,center:{lng:116.40387397,lat:39.91488908},arrItem:[{imgUrl:"http://image.qmango.com/hotelimg/dl1210/109490/109.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/125708/181.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/119297/793.jpeg"}],sameImgAttr:[{imgUrl:"http://image.qmango.com/hotelimg/dl1210/109490/109.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/125708/181.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/119297/793.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/119297/793.jpeg"}],otherImgAttr:[{imgUrl:"http://image.qmango.com/hotelimg/dl1210/109490/109.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/125708/181.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/119297/793.jpeg"},{imgUrl:"http://image.qmango.com/hotelimg/dl1210/119297/793.jpeg"}],houseDetail:"",houseId:"1",isSell:!0,isRent:!1,title:"",price:"",buildarea:"",avgprice:"",forward:"",sell_type:"",floor:"",block_name:"",createtime:"",fitment:"",buildyear:"",maplng:"",maplat:""},a()(t,"center",{lng:116.40387397,lat:39.91488908}),a()(t,"imgHouseAttr",["","",""]),a()(t,"sellList",[]),a()(t,"rentList",[]),a()(t,"communityAround",[]),a()(t,"attentionStatus","关注"),t},created:function(){this.getHouseDetail(),this.getCommunityDetail()},components:{headTop:o.a},mounted:function(){this.ready();new c.a(".swiper-container",{loop:!0,autoplay:{delay:3e3},pagination:{el:".swiper-pagination",type:"fraction"}})},methods:{getHouseDetail:function(){var t=this;i.a.getHouseDetail({cityId:"hz",houseId:"2",userType:"2",houseType:"2"}).then(function(e){if(e.data.success){console.log(e.data.result);var n=e.data.result;t.houseDetail=n,console.log("houseDetail"),console.log(t.houseDetail),t.title=n.title,t.price=n.price,t.buildarea=n.buildarea,t.avgprice=n.avgprice,t.forward=n.forward,t.sell_type=n.sell_type,t.floor=n.floor,t.block_name=n.block_name,t.createtime=n.createtime,t.fitment=n.fitment,t.buildyear=n.buildyear,t.maplng=n.communityLocation.b_map_x,t.maplat=n.communityLocation.b_map_y,t.imgHouseAttr=n.img,t.center.lng=n.communityLocation.b_map_x,t.center.lat=n.communityLocation.b_map_y,"1"===n.attentionState?t.attentionStatus="已关注":"0"===n.attentionState&&(t.attentionStatus="关注"),console.log(t.maplng),console.log(t.center.lng)}else t.$message.error(e.data.errorMessage)}).catch(function(e){t.$message.error("房源详情="+e.data.errorMessage)})},getCommunityDetail:function(){var t=this;i.a.getCommunityDetail({blockId:"2839",city:"hz",userType:"2",houseType:"2"}).then(function(e){if(e.data.success){console.log("小区"),console.log(e.data.result);var n=e.data.result;t.sellList=n.houseInblock.sell.lists,t.rentList=n.houseInblock.rent.lists,console.log(t.sellList),t.communityAround=n.communityAround}else t.$message.error(e.data.errorMessage)}).catch(function(e){t.$message.error("小区详情"+e.data.errorMessage)})},clickSell:function(){this.isSell=!0,this.isRent=!1,this.sellList.length>0?(this.$refs.ulDisplay.style.display="",this.$refs.sameSell.style.marginTop="16rem"):(this.$refs.ulDisplay.style.display="none",this.$refs.sameSell.style.marginTop="2rem")},clickRent:function(){this.isSell=!1,this.isRent=!0,this.rentList.length>0?(this.$refs.ulDisplay.style.display="",this.$refs.sameSell.style.marginTop="16rem"):(this.$refs.ulDisplay.style.display="none",this.$refs.sameSell.style.marginTop="2rem")},clkAttention:function(){var t=this;if("关注"===this.attentionStatus){var e={cityId:"hz",businessNum:"hz"+this.houseId,businessType:1,sysType:1,userId:2,attentionState:1};return console.log(e),void i.a.attention(e).then(function(e){console.log(e.data),e.data.success&&(console.log("关注成功"),t.attentionStatus="已关注")}).catch(function(t){console.log(t)})}if("已关注"===this.attentionStatus){var n={cityId:"hz",businessNum:"hz"+this.houseId,businessType:1,sysType:1,userId:2,attentionState:0};i.a.attention(n).then(function(e){console.log(e.data),e.data.success&&(console.log("取消关注"),t.attentionStatus="关注")}).catch(function(t){console.log(t)})}},phoneCall:function(){},ready:function(){var t=this,e=new r.a.Map("allmap"),n=new r.a.Point(this.center.lng,this.center.lat);e.centerAndZoom(n,10),e.enableScrollWheelZoom(!0),e.enableDoubleClickZoom(!0),(new r.a.Geolocation).getCurrentPosition(function(n){if(n.point){var s=new r.a.Point(t.center.lng,t.center.lat);console.log("point"),console.log(s),console.log("r.point"),console.log(n.point);var a=new r.a.Marker(s);e.addOverlay(a),e.panTo(s),e.centerAndZoom(s,16);var i=new r.a.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:1});e.addControl(i);var o={offset:new r.a.Size(1,28)},l=new r.a.ScaleControl(o);e.addControl(l)}},{enableHighAccuracy:!0})}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"containt"},[s("head-top",{attrs:{goBack:"true"}}),t._v(" "),s("h1",{staticClass:"nav-header"},[s("span",{staticClass:"go-back",on:{click:function(e){t.$router.go(-1)}}},[s("i",{staticClass:"icon iconfont go-back-icon"},[t._v("")])]),t._v(" "),s("span",{staticClass:"header-title"},[t._v("房源")])]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"imgDiv"},[s("div",{staticClass:"swiper-container"},[s("div",{staticClass:"swiper-wrapper"},t._l(t.arrItem,function(t){return s("div",{staticClass:"swiper-slide"},[s("img",{attrs:{src:t.imgUrl}})])})),t._v(" "),s("div",{staticClass:"swiper-pagination"})])]),t._v(" "),s("div",{staticClass:"house-content"},[s("h2",{staticClass:"villageName"},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"div-houseDes"},[s("el-row",[s("el-col",{attrs:{span:11}},[s("el-row",{staticClass:"el-houseDes"},[s("p",{staticStyle:{color:"red"}},[t._v(t._s(t.price))])]),t._v(" "),s("el-row",{staticClass:"el-houseDes"},[s("p",{staticClass:"des"},[t._v("租金")])])],1),t._v(" "),s("el-col",{attrs:{span:1}},[s("el-row",[s("div",{staticClass:"div-line"})])],1),t._v(" "),s("el-col",{attrs:{span:11}},[s("el-row",{staticClass:"el-houseDes"},[s("p",{staticStyle:{color:"red"}},[t._v(t._s(t.buildarea))])]),t._v(" "),s("el-row",{staticClass:"el-houseDes"},[s("p",{staticClass:"des"},[t._v("建筑面积")])])],1)],1)],1)]),t._v(" "),s("div",{staticClass:"divide"}),t._v(" "),s("div",{staticClass:"detailDes"},[s("el-row",[s("el-col",{attrs:{span:11}},[s("el-row",{staticClass:"el-detailDes"},[s("p",[t._v("朝向： "+t._s(t.forward))])]),t._v(" "),s("el-row",{staticClass:"el-detailDes"},[s("p",[t._v("类型： "+t._s(t.sell_type))])]),t._v(" "),s("el-row",{staticClass:"el-detailDes"},[s("p",[t._v("年代： "+t._s(t.buildyear))])]),t._v(" "),s("el-row",{staticClass:"el-detailDes"},[s("p",[t._v("小区： "),s("span",{staticStyle:{color:"#ffc16b"}},[t._v(t._s(t.block_name))])])])],1),t._v(" "),s("el-col",{attrs:{span:11}},[s("el-row",{staticClass:"el-detailDes"},[s("p",[t._v("挂牌： "+t._s(t.createtime))])]),t._v(" "),s("el-row",{staticClass:"el-detailDes"},[s("p",[t._v("装修： "+t._s(t.fitment))])])],1)],1)],1),t._v(" "),s("div",{staticClass:"homeMap"},[s("router-link",{attrs:{to:{name:"mapIncrease",params:{x:t.center.lng,y:t.center.lat}}}},[s("div",{staticClass:"allmap",attrs:{id:"allmap"}})])],1),t._v(" "),s("div",{staticClass:"sameArea"},[s("el-row",[s("el-col",{attrs:{span:16}},[s("p",[t._v("同小区房源")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("p",{class:{"class-color":t.isRent},on:{click:function(e){t.clickRent()}}},[t._v("在租")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("p",{class:{"class-color":t.isSell},on:{click:function(e){t.clickSell()}}},[t._v("在售")])])],1),t._v(" "),s("ul",{ref:"ulDisplay",staticClass:"category-head"},t._l(t.sellList,function(e){return t.isSell?s("li",{on:{click:function(e){t.getHomeDetail()}}},[s("img",{attrs:{src:e.pic}}),s("br"),t._v(" "),s("p",[t._v(t._s(e.room_type)+"|"+t._s(e.buildarea)+"|"+t._s(e.forward))]),t._v(" "),s("p",[s("span",{staticStyle:{color:"#e10000"}},[t._v(t._s(e.price))]),t._v("   "+t._s(e.avgprice))])]):t.isRent?t._l(t.rentList,function(e){return s("li",[s("img",{attrs:{src:e.pic}}),s("br"),t._v(" "),s("p",[t._v(t._s(e.room_type)+"|"+t._s(e.buildarea)+"|"+t._s(e.forward))]),t._v(" "),s("p",[s("span",{staticStyle:{color:"#e10000"}},[t._v(t._s(e.price))])])])}):t._e()}))],1),t._v(" "),s("div",{ref:"sameSell",staticClass:"sameSells"},[t.isSell?s("div",[t._v("\n        同小区在售"+t._s(t.sellList.length)+"套\n      ")]):t.isRent?s("div",[t._v("\n        同小区在租"+t._s(t.rentList.length)+"套\n      ")]):t._e()]),t._v(" "),s("div",{staticClass:"divide2"}),t._v(" "),s("div",{staticClass:"sameArea"},[s("p",[t._v("周边小区")]),t._v(" "),s("ul",{staticClass:"category-head"},t._l(t.communityAround,function(e){return s("li",[s("img",{attrs:{src:e.surface_img?e.surface_img:n("dNrd")}}),s("br"),t._v(" "),s("p",{staticStyle:{color:"#885D24"}},[t._v(t._s(e.build_date)+"年建")]),t._v(" "),s("p",[t._v(t._s(e.cmt_name))]),t._v(" "),s("p",{staticClass:"p-bottom"},[s("span",{staticStyle:{color:"#e10000"}},[t._v(t._s(e.averprice)+"元/平")])])])}))]),t._v(" "),s("div",{staticClass:"empty"}),t._v(" "),s("div",{staticClass:"button-bottom"},[s("el-row",{staticClass:"el-bt"},[s("el-col",{staticClass:"grid-bt-content bg-bt-light",attrs:{span:12}},[s("div",{on:{click:function(e){t.clkAttention()}}},[s("i",{staticClass:"icon iconfont xl"},[t._v("")]),s("br"),s("span",{staticClass:"span-icon"},[t._v(t._s(t.attentionStatus))])])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-bt-content bg-bt centenr",on:{click:function(e){t.phoneCall()}}},[s("span",[t._v("联系经纪人")])])])],1)],1)])],1)},staticRenderFns:[]};var m=n("vSla")(u,p,!1,function(t){n("0QXR")},"data-v-50efccce",null);e.default=m.exports},"7p3N":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"8Nvm":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"93K8":function(t,e,n){var s=n("8Nvm");t.exports=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t}},BRDz:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},BplH:function(t,e,n){var s=n("8Nvm"),a=n("C02x").document,i=s(a)&&s(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},C02x:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},FITv:function(t,e,n){var s=n("C02x"),a=n("AKd3"),i=n("WwGG"),o=n("bHZz"),l=n("Mcur"),r=function(t,e,n){var c,u,p,m=t&r.F,f=t&r.G,d=t&r.S,v=t&r.P,g=t&r.B,_=t&r.W,h=f?a:a[e]||(a[e]={}),y=h.prototype,b=f?s:d?s[e]:(s[e]||{}).prototype;for(c in f&&(n=e),n)(u=!m&&b&&void 0!==b[c])&&l(h,c)||(p=u?b[c]:n[c],h[c]=f&&"function"!=typeof b[c]?n[c]:g&&u?i(p,s):_&&b[c]==p?function(t){var e=function(e,n,s){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,s)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(p):v&&"function"==typeof p?i(Function.call,p):p,v&&((h.virtual||(h.virtual={}))[c]=p,t&r.R&&y&&!y[c]&&o(y,c,p)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,t.exports=r},J35F:function(t,e,n){var s=n("8Nvm");t.exports=function(t,e){if(!s(t))return t;var n,a;if(e&&"function"==typeof(n=t.toString)&&!s(a=n.call(t)))return a;if("function"==typeof(n=t.valueOf)&&!s(a=n.call(t)))return a;if(!e&&"function"==typeof(n=t.toString)&&!s(a=n.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},JhHb:function(t,e,n){n("SAFe");var s=n("AKd3").Object;t.exports=function(t,e,n){return s.defineProperty(t,e,n)}},Mcur:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},SAFe:function(t,e,n){var s=n("FITv");s(s.S+s.F*!n("sjnA"),"Object",{defineProperty:n("lIiZ").f})},SS50:function(t,e,n){t.exports=!n("sjnA")&&!n("BRDz")(function(){return 7!=Object.defineProperty(n("BplH")("div"),"a",{get:function(){return 7}}).a})},WwGG:function(t,e,n){var s=n("7p3N");t.exports=function(t,e,n){if(s(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,s){return t.call(e,n,s)};case 3:return function(n,s,a){return t.call(e,n,s,a)}}return function(){return t.apply(e,arguments)}}},a3Yh:function(t,e,n){"use strict";e.__esModule=!0;var s,a=n("liLe"),i=(s=a)&&s.__esModule?s:{default:s};e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},bHZz:function(t,e,n){var s=n("lIiZ"),a=n("go9Q");t.exports=n("sjnA")?function(t,e,n){return s.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},go9Q:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},lIiZ:function(t,e,n){var s=n("93K8"),a=n("SS50"),i=n("J35F"),o=Object.defineProperty;e.f=n("sjnA")?Object.defineProperty:function(t,e,n){if(s(t),e=i(e,!0),s(n),a)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},liLe:function(t,e,n){t.exports={default:n("JhHb"),__esModule:!0}},sjnA:function(t,e,n){t.exports=!n("BRDz")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}});
//# sourceMappingURL=2.c20ec0ac1e74f767910d.js.map