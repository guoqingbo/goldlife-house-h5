webpackJsonp([1,3],{Swk6:function(e,t){},X6d5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("pxwZ"),r=s("ra3+"),o={props:["houseLists","houseType"],filters:{pic:function(e){return e||"http://118.178.230.141/group1/M00/00/04/drLmjVsZ-cmAIWmKAASWd8wn0zs229.jpg"},price:function(e,t){if(e)return 1==t?e+" 万元":e+" 元/月"},avgprice:function(e){if(e)return e+" 元/平"},publishTime:function(e){if(e){var t=function(e){return e<10?"0"+e:e},s=new Date(1e3*parseInt(e)),i=s.getFullYear(),r=s.getMonth()+1;s.getDate();return i+"年"+t(r)+"月"+t(r)+"日发布"}}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"houseList clear"},[s("ul",e._l(e.houseLists,function(t){return s("li",{key:t.id,staticClass:"clear"},[s("router-link",{attrs:{to:"/sellDetail"}},[s("div",{staticClass:"img left"},[s("img",{attrs:{src:e._f("pic")(t.pic)}})]),e._v(" "),s("div",{staticClass:"left li-content"},[s("p",[s("span",{staticClass:"title"},[e._v(e._s(t.title))])]),e._v(" "),s("p",[s("span",{staticClass:"dicrible"},[e._v(e._s(t.describe))])]),e._v(" "),s("p",[s("span",{staticClass:"price"},[e._v(e._s(e._f("price")(t.price,e.houseType)))]),e._v(" "),s("span",{staticClass:"avgprice"},[e._v(e._s(e._f("avgprice")(t.avgprice)))])]),e._v(" "),s("p"),s("span",{staticClass:"publish-time"},[e._v(e._s(e._f("publishTime")(t.create_time)))])])])],1)}))])},staticRenderFns:[]};var a=s("VU/8")(o,c,!1,function(e){s("dNYz")},"data-v-27bd8902",null).exports,n=s("vCr1"),l={data:function(){return{houseParams:{1:{cityId:"hz",communityId:"",areaIds:"",priceMin:"",priceMax:"",filterIds:[],pageSize:"",pageIndex:"",orderBy:"",orderColumn:""},2:{cityId:"hz",communityId:"",areaIds:"",priceMin:"",priceMax:"",filterIds:[],pageSize:"",pageIndex:"",orderBy:"",orderColumn:""}},hoseLists:[],houseType:1,filterType:"",filterList:{},district:[],activDistrictIndex:-1,orderFilter:[{orderColumn:"id",orderBy:"desc",describe:"最新发布"},{orderColumn:"price",orderBy:"asc",describe:"总价从低到高"},{orderColumn:"price",orderBy:"desc",describe:"总价从高到底"},{orderColumn:"avgprice",orderBy:"asc",describe:"单价从低到高"},{orderColumn:"buildarea",orderBy:"asc",describe:"面积从大到小"}],morePopVisible:!1,isShowSearch:!1,isShowHouseType:!1}},components:{headTop:r.a,search:n.default,houseList:a},created:function(){this.getHoseLists(),this.getFilterList(),this.getDistrict()},computed:{},methods:{getHoseLists:function(){var e=this;if(1==this.houseType){var t=this.houseParams[this.houseType];i.a.getSellHouseList(t).then(function(t){t.data.success?e.hoseLists=t.data.result.list:e.$message.error(t.data.errorMessage)}).catch(function(t){e.$message.error(t.data.errorMessage)})}else if(2==this.houseType){var s=this.houseParams[this.houseType];console.log(s),i.a.getRentHouseList(s).then(function(t){console.log(t),t.data.success?e.hoseLists=t.data.result.list:e.$message.error(t.data.errorMessage)}).catch(function(t){e.$message.error(t.data.errorMessage)})}},getFilterList:function(){var e=this,t={type:this.houseType};i.a.getFilterList(t).then(function(t){t.data.success?e.filterList=t.data.result:e.$message.error(t.data.errorMessage)}).catch(function(t){e.$message.error(t.data.errorMessage)})},getDistrict:function(){var e=this;i.a.getDistrict({city:"hz"}).then(function(t){t.data.success?e.district=t.data.result:e.$message.error(t.data.errorMessage)}).catch(function(t){e.$message.error(t.data.errorMessage)})},selectHouseType:function(e){this.houseType=e,this.isShowHouseType=!1,this.getHoseLists()},opentFilter:function(e){this.filterType?this.filterType="":this.filterType=e},setFilterValue:function(e,t){var s=this.houseParams[this.houseType].filterIds.indexOf(t);"-1"==s?this.houseParams[this.houseType].filterIds.push(t):this.houseParams[this.houseType].filterIds.splice(s,1)},filterConfirm:function(){this.getHoseLists(),this.filterType=""},unlimit:function(){this.houseParams[this.houseType]={cityId:"hz",communityId:"",areaIds:"",priceMin:"",priceMax:"",filterIds:[],pageSize:"",pageIndex:"",orderBy:"",orderColumn:""},this.getHoseLists(),this.filterType=""},setCheckDistrictValue:function(e,t){this.activDistrictIndex=t},setCheckStreetValue:function(e,t){this.houseParams[this.houseType].areaIds=t,this.getHoseLists(),this.filterType=""},setOrderValue:function(e,t){this.houseParams[this.houseType].orderBy=t.orderBy,this.houseParams[this.houseType].orderColumn=t.orderColumn,this.getHoseLists(),this.filterType=""},toggleMore:function(){this.morePopVisible=!this.morePopVisible},showSearch:function(){this.isShowSearch=!0},searchHouse:function(e){console.log(e),this.houseParams[this.houseType]={cityId:"hz",communityId:e,areaIds:"",priceMin:"",priceMax:"",filterIds:[],pageSize:"",pageIndex:"",orderBy:"",orderColumn:""},this.getHoseLists(),this.isShowSearch=!1}},watch:{}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isShowSearch?e._e():s("div",[s("head-top",{attrs:{goBack:"true"}}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"my-search clear"},[s("div",{staticClass:"my-searchbar-inner left clear"},[s("div",{staticClass:"my-search-dropdown left"},[s("div",{on:{click:function(t){e.isShowHouseType=!e.isShowHouseType}}},[e._v("\n                "+e._s(1==e.houseType?"二手房":"租房")),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),e.isShowHouseType?s("ul",{staticClass:"house-type-ul"},[e._m(0),e._v(" "),s("li",{class:{"house-type-active":1==e.houseType}},[s("span",{on:{click:function(t){e.selectHouseType(1)}}},[e._v("二手房")])]),e._v(" "),s("li",{class:{"house-type-active":2==e.houseType}},[s("span",{on:{click:function(t){e.selectHouseType(2)}}},[e._v("租房")])])]):e._e()]),e._v(" "),s("div",{staticClass:"my-search-input left"},[s("input",{attrs:{type:"search",placeholder:"请输入商圈或小区名"},on:{focus:function(t){e.isShowSearch=!0}}})])]),e._v(" "),s("div",{staticClass:"my-search-right right",on:{click:e.toggleMore}},[s("i",{staticClass:"icon iconfont iconfont-more"},[e._v("")])]),e._v(" "),e.morePopVisible?s("ul",{staticClass:"more-ul"},[e._m(1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/myCare"}},[s("i",{staticClass:"icon iconfont my-care"},[e._v("")]),e._v("我的关注")])],1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/lookAppointment"}},[s("i",{staticClass:"icon iconfont look-house"},[e._v("")]),e._v("看房预约")])],1)]):e._e()]),e._v(" "),s("div",{staticClass:"condition-filter clear",on:{touchmove:function(e){e.preventDefault()}}},[s("ul",{staticClass:"left clear"},[s("li",{on:{click:function(t){e.opentFilter("district")}}},[e._v("区域"),s("i",{staticClass:"icon iconfont"},[e._v("")])]),e._v(" "),s("li",{on:{click:function(t){e.opentFilter("price")}}},[e._v("价格"),s("i",{staticClass:"icon iconfont"},[e._v("")])]),e._v(" "),s("li",{on:{click:function(t){e.opentFilter("roomType")}}},[e._v("房型"),s("i",{staticClass:"icon iconfont"},[e._v("")])]),e._v(" "),s("li",{on:{click:function(t){e.opentFilter("filterMore")}}},[e._v("筛选"),s("i",{staticClass:"icon iconfont"},[e._v("")])]),e._v(" "),s("li",{on:{click:function(t){e.opentFilter("filterOrder")}}},[s("i",{staticClass:"icon iconfont"},[e._v("")])])])]),e._v(" "),s("house-list",{attrs:{houseLists:e.hoseLists,houseType:e.houseType}}),e._v(" "),"price"==e.filterType?s("div",{staticClass:"filter-price",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"filter-title"},[e._v("价格区间（万）")]),e._v(" "),s("div",{staticClass:"price-between-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.houseParams[e.houseType].priceMin,expression:"houseParams[houseType].priceMin"}],staticClass:"left",attrs:{maxlength:"4",type:"number"},domProps:{value:e.houseParams[e.houseType].priceMin},on:{input:function(t){t.target.composing||e.$set(e.houseParams[e.houseType],"priceMin",t.target.value)}}}),e._v(" "),e._m(2),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.houseParams[e.houseType].priceMax,expression:"houseParams[houseType].priceMax"}],staticClass:"right",attrs:{maxlength:"4",type:"number"},domProps:{value:e.houseParams[e.houseType].priceMax},on:{input:function(t){t.target.composing||e.$set(e.houseParams[e.houseType],"priceMax",t.target.value)}}})]),e._v(" "),s("ul",{staticClass:"filter-select"},e._l(e.filterList.price.child,function(t){return s("li",{key:t.id,class:{"filter-select-active":e.houseParams[e.houseType].filterIds.indexOf(t.id)>=0},on:{click:function(s){e.setFilterValue(s,t.id)}}},[e._v(e._s(t.child_name)+"\n          ")])})),e._v(" "),s("div",{staticClass:"filter-btn"},[s("button",{staticClass:"unlimit-btn",on:{click:e.unlimit}},[e._v("不限")]),e._v(" "),s("button",{staticClass:"confirm-btn",on:{click:e.filterConfirm}},[e._v("确定")])]),e._v(" "),s("div",{staticClass:"filter-mask",on:{click:function(t){e.opentFilter("price")}}})]):e._e(),e._v(" "),"district"==e.filterType?s("div",{staticClass:"filter-district",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"clear"},[s("ul",{staticClass:"district-ul left",on:{touchmove:function(e){e.stopPropagation()}}},[s("li",{class:{"select-font-active":e.activDistrictIndex<0}},[e._v("不限")]),e._v(" "),e._l(e.district,function(t,i){return s("li",{class:{"select-font-active":e.activDistrictIndex==i},on:{click:function(t){e.setCheckDistrictValue(t,i)}}},[e._v("\n              "+e._s(t.district)+"\n            ")])})],2),e._v(" "),s("ul",{staticClass:"street-ul left clear",on:{touchmove:function(e){e.stopPropagation()}}},[e.activDistrictIndex<0?s("li",{class:{"street-active":e.activDistrictIndex<0}},[e._v("不限")]):e._l(e.district[e.activDistrictIndex].street,function(t){return s("li",{class:{"street-active":e.houseParams[e.houseType].areaIds==t.id},on:{click:function(s){e.setCheckStreetValue(s,t.id)}}},[e._v("\n              "+e._s(t.name)+"\n            ")])})],2)]),e._v(" "),s("div",{staticClass:"filter-mask",on:{click:function(t){e.opentFilter("district")},touchmove:function(e){e.preventDefault()}}})]):e._e(),e._v(" "),"roomType"==e.filterType?s("div",{staticClass:"filter-room-type",on:{touchmove:function(e){e.preventDefault()}}},[s("ul",{staticClass:"filter-select"},e._l(e.filterList.room.child,function(t){return s("li",{key:t.id,class:{"filter-select-active":e.houseParams[e.houseType].filterIds.indexOf(t.id)>=0},on:{click:function(s){e.setFilterValue(s,t.id)}}},[e._v("\n            "+e._s(t.child_name)+"\n          ")])})),e._v(" "),s("div",{staticClass:"filter-btn"},[s("button",{staticClass:"unlimit-btn",on:{click:e.unlimit}},[e._v("不限")]),e._v(" "),s("button",{staticClass:"confirm-btn",on:{click:e.filterConfirm}},[e._v("确定")])]),e._v(" "),s("div",{staticClass:"filter-mask",on:{click:function(t){e.opentFilter("price")}}})]):e._e(),e._v(" "),"filterMore"==e.filterType?s("div",{staticClass:"filter-more",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"filter-title"},[e._v("建筑面积（㎡）")]),e._v(" "),s("ul",{staticClass:"filter-select"},e._l(e.filterList.buildarea.child,function(t){return s("li",{key:t.id,class:{"filter-select-active":e.houseParams[e.houseType].filterIds.indexOf(t.id)>=0},on:{click:function(s){e.setFilterValue(s,t.id)}}},[e._v(e._s(t.child_name)+"\n          ")])})),e._v(" "),s("div",{staticClass:"filter-title"},[e._v("楼龄")]),e._v(" "),s("ul",{staticClass:"filter-select"},e._l(e.filterList.buildyear.child,function(t){return s("li",{key:t.id,class:{"filter-select-active":e.houseParams[e.houseType].filterIds.indexOf(t.id)>=0},on:{click:function(s){e.setFilterValue(s,t.id)}}},[e._v(e._s(t.child_name)+"\n          ")])})),e._v(" "),s("div",{staticClass:"filter-title"},[e._v("朝向")]),e._v(" "),s("ul",{staticClass:"filter-select"},e._l(e.filterList.forward.child,function(t){return s("li",{key:t.id,class:{"filter-select-active":e.houseParams[e.houseType].filterIds.indexOf(t.id)>=0},on:{click:function(s){e.setFilterValue(s,t.id)}}},[e._v(e._s(t.child_name)+"\n          ")])})),e._v(" "),s("div",{staticClass:"filter-btn"},[s("button",{staticClass:"unlimit-btn",on:{click:e.unlimit}},[e._v("不限")]),e._v(" "),s("button",{staticClass:"confirm-btn",on:{click:e.filterConfirm}},[e._v("确定")])]),e._v(" "),s("div",{staticClass:"filter-mask",on:{click:function(t){e.opentFilter("price")}}})]):e._e(),e._v(" "),"filterOrder"==e.filterType?s("div",{staticClass:"filter-order"},[s("div",{staticClass:"clear"},[s("ul",{staticClass:"filter-order-ul left"},e._l(e.orderFilter,function(t,i){return s("li",{class:{"select-font-active":e.houseParams[e.houseType].orderColumn==t.orderColumn&&e.houseParams[e.houseType].orderBy==t.orderBy},on:{click:function(s){e.setOrderValue(s,t)}}},[e._v("\n              "+e._s(t.describe)+"\n            ")])}))]),e._v(" "),s("div",{staticClass:"filter-mask",on:{click:function(t){e.opentFilter("district")},touchmove:function(e){e.preventDefault()}}})]):e._e()],1)],1),e._v(" "),e.isShowSearch?s("search",{attrs:{houseType:e.houseType},on:{hideSearch:function(t){e.isShowSearch=!1},searchHouse:e.searchHouse}}):e._e(),e._v(" "),e.morePopVisible?s("div",{staticClass:"full-mask",on:{touchmove:function(e){e.preventDefault()},click:function(t){e.morePopVisible=!1}}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"icon iconfont arrow-top"},[this._v("")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"icon iconfont arrow"},[this._v("")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"icon iconfont iconfont-heng"},[this._v("")])])}]};var h=s("VU/8")(l,u,!1,function(e){s("Swk6")},"data-v-0af62c5c",null);t.default=h.exports},dNYz:function(e,t){},mvHQ:function(e,t,s){e.exports={default:s("qkKv"),__esModule:!0}},qkKv:function(e,t,s){var i=s("FeBl"),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},vCr1:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),r=s.n(i),o=s("pxwZ"),c={data:function(){return{params:{keyword:"",city:"hz",limit:"5"},isShowHouseType:!1,searchResult:[],searchHouseType:this.houseType}},props:{houseType:{default:1}},created:function(){},mounted:function(){},components:{},computed:{communitySearchHistory:function(){var e=JSON.parse(localStorage.getItem("communitySearchHistory"));return null==e&&(e={1:[],2:[]}),e}},methods:{showSearchResult:function(){var e=this,t=this.params;o.a.searchCommunity(t).then(function(t){console.log(t.data),t.data.success?e.searchResult=t.data.result:e.$toast({message:t.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(t){e.$toast({message:t.error_msg,position:"bottom",duration:3e3})})},cancel:function(){},selectHouseType:function(e){this.searchHouseType=e,this.isShowHouseType=!1},searchHouse:function(e){this.communitySearchHistory[this.searchHouseType].push(e),localStorage.setItem("communitySearchHistory",r()(this.communitySearchHistory)),this.$emit("searchHouse",e.communityId)},deleteCommunitySearchHistory:function(e){this.communitySearchHistory[this.searchHouseType]=[],localStorage.setItem("communitySearchHistory",r()(this.communitySearchHistory))}},watch:{}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"my-search clear"},[s("div",{staticClass:"my-searchbar-inner left clear"},[s("div",{staticClass:"my-search-dropdown left"},[s("div",{on:{click:function(t){e.isShowHouseType=!e.isShowHouseType}}},[e._v("\n          "+e._s(1==e.searchHouseType?"二手房":"租房")),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),e.isShowHouseType?s("ul",{staticClass:"house-type-ul"},[e._m(0),e._v(" "),s("li",{class:{"house-type-active":1==e.searchHouseType}},[s("span",{on:{click:function(t){e.selectHouseType(1)}}},[e._v("二手房")])]),e._v(" "),s("li",{class:{"house-type-active":2==e.searchHouseType}},[s("span",{on:{click:function(t){e.selectHouseType(2)}}},[e._v("租房")])])]):e._e()]),e._v(" "),s("div",{staticClass:"my-search-input left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.params.keyword,expression:"params.keyword"}],attrs:{type:"search",placeholder:"请输入商圈或小区名"},domProps:{value:e.params.keyword},on:{keyup:e.showSearchResult,input:function(t){t.target.composing||e.$set(e.params,"keyword",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"my-search-right right",on:{click:function(t){e.$emit("hideSearch")}}},[e._v("\n      取消\n    ")])]),e._v(" "),e.searchResult.length>0?s("ul",{staticClass:"search-result"},e._l(e.searchResult,function(t,i){return s("li",{key:t.communityId,on:{click:function(s){e.searchHouse(t)}}},[e._v(e._s(t.communityName))])})):e._e(),e._v(" "),e.communitySearchHistory&&e.communitySearchHistory[e.searchHouseType].length>0&&e.searchResult.length<=0?s("ul",{staticClass:"search-history"},[s("li",[s("span",[e._v("搜索历史")]),s("span",[s("i",{staticClass:"icon iconfont icon-delete",on:{click:function(t){e.deleteCommunitySearchHistory(e.searchHouseType)}}},[e._v("")])])]),e._v(" "),e._l(e.communitySearchHistory[e.searchHouseType],function(t,i){return s("li",[e._v(e._s(t.communityName))])})],2):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"icon iconfont arrow-top"},[this._v("")])])}]};var n=s("VU/8")(c,a,!1,function(e){s("zx+E")},"data-v-02ba7d32",null);t.default=n.exports},"zx+E":function(e,t){}});
//# sourceMappingURL=1.2fb1cebec08e10b95a50.js.map