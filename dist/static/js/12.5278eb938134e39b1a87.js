webpackJsonp([12],{"F/GY":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("pxwZ"),o={name:"lookHouseIndex",data:function(){return{labelList:[],flag:!1,selectedLable:[],textLable:"",allLableContent:""}},created:function(){this.getLabel()},mounted:function(){this.haveLable(),console.log(this.$route.query.data)},methods:{getLabel:function(){var e=this;s.a.lookHouseLabel().then(function(t){t.data.success?e.labelList=t.data.result.kfbz:e.$toast({message:t.data.errorMessage,position:"middle",duration:3e3})}).catch(function(e){console.log(e)})},postNode:function(){var e=this;if(""!=this.textLable.trim()&&""!=this.selectedLable){var t=this.selectedLable.join(","),a={orderDetailId:this.$route.query.data.orderDetailId,lable:t,text:this.textLable};s.a.saveHouseLog(a).then(function(t){t.data.success?e.$router.push({path:"/lookHouseHistory"}):e.$toast({message:t.data.errorMessage,position:"middle",duration:3e3})}).catch(function(e){console.log(e)})}else this.$toast({message:"标签和文字均不能为空",position:"middle",duration:3e3})},chooseLable:function(e){var t=[];e.target.className?(e.target.className="",t.push(e.target.innerHTML)):(e.target.className="select",this.selectedLable.push(e.target.innerHTML));for(var a=0;a<t.length;a++)for(var s=0;s<this.selectedLable.length;s++)this.selectedLable[s]==t[a]&&this.selectedLable.splice(s,1)},haveLable:function(){var e=this.$route.query.data.text,t=this.$route.query.data.lable;if(this.textLable=e||"",t){var a=t.split(",");this.selectedLable=a}}},components:{headTop:a("ra3+").a}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("head-top"),e._v(" "),a("h1",{staticClass:"nav-header"},[a("span",{staticClass:"go-back",on:{click:function(t){e.$router.go(-1)}}},[a("i",{staticClass:"icon iconfont go-back-icon"},[e._v("")])]),e._v(" "),a("span",{staticClass:"header-title",on:{click:e.postNode}},[e._v("确定")])]),e._v(" "),a("div",{staticClass:"title"},[a("h2",[e._v("看房备注")]),e._v(" "),a("p",[e._v(e._s(this.$route.query.data.blockName))]),e._v(" "),a("p",[a("span",[e._v(e._s(this.$route.query.data.room)+"室"+e._s(this.$route.query.data.hall)+"厅"+e._s(this.$route.query.data.toilet)+"卫")]),e._v(" "),a("span",[e._v(e._s(this.$route.query.data.price)+"万")])])]),e._v(" "),a("div",{staticClass:"lableNode"},[a("p",[e._v("标签备注")]),e._v(" "),a("div",{staticClass:"lable"},e._l(e.labelList,function(t,s){return a("p",{class:{select:e.$route.query.data.lable.indexOf(t)>=0},attrs:{value:t},on:{click:function(a){e.chooseLable(a,t)}}},[e._v(e._s(t))])}))]),e._v(" "),a("div",{staticClass:"textNode"},[a("p",[e._v("文字备注")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textLable,expression:"textLable"}],attrs:{placeholder:"备注"},domProps:{value:e.textLable},on:{input:function(t){t.target.composing||(e.textLable=t.target.value)}}})])],1)},staticRenderFns:[]};var i=a("VU/8")(o,l,!1,function(e){a("kuu/")},"data-v-dd335992",null);t.default=i.exports},"kuu/":function(e,t){}});
//# sourceMappingURL=12.5278eb938134e39b1a87.js.map