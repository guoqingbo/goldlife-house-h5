webpackJsonp([11],{"9kwg":function(e,s){},vCr1:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t("3cXf"),a=t.n(o),c=t("pxwZ"),i={data:function(){return{params:{keyword:"",city:"hz",limit:"10"},isShowHouseType:!1,searchResult:[],searchHouseType:this.houseType,houseSearchHistory:localStorage.getItem("houseSearchHistory").length<=0?{1:[],2:[]}:JSON.parse(localStorage.getItem("houseSearchHistory"))}},props:{houseType:{default:1}},created:function(){},mounted:function(){},components:{},computed:{},methods:{showSearchResult:function(){var e=this,s=this.params;console.log(s.keyword),""!=s.keyword?c.a.searchCommunity(s).then(function(s){console.log(s.data),s.data.success?e.searchResult=s.data.result:e.$toast({message:s.data.errorMessage,position:"bottom",duration:3e3})}).catch(function(s){console.log(s),e.$toast({message:s.Error,position:"bottom",duration:3e3})}):this.searchResult=[]},cancel:function(){},selectHouseType:function(e){this.searchHouseType=e,this.isShowHouseType=!1},searchHouse:function(e){this.$emit("searchHouse",e)},deletehouseSearchHistory:function(e){this.houseSearchHistory[this.searchHouseType]=[],localStorage.setItem("houseSearchHistory",a()(this.houseSearchHistory))}},watch:{}},r={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"my-search clear"},[t("div",{staticClass:"my-searchbar-inner left clear"},[t("div",{staticClass:"my-search-dropdown left"},[t("div",{on:{click:function(s){e.isShowHouseType=!e.isShowHouseType}}},[e._v("\n          "+e._s(1==e.searchHouseType?"二手房":"租房")),t("i",{staticClass:"icon iconfont"},[e._v("")])]),e._v(" "),e.isShowHouseType?t("ul",{staticClass:"house-type-ul"},[e._m(0),e._v(" "),t("li",{class:{"house-type-active":1==e.searchHouseType}},[t("span",{on:{click:function(s){e.selectHouseType(1)}}},[e._v("二手房")])]),e._v(" "),t("li",{class:{"house-type-active":2==e.searchHouseType}},[t("span",{on:{click:function(s){e.selectHouseType(2)}}},[e._v("租房")])])]):e._e()]),e._v(" "),t("div",{staticClass:"my-search-input left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.params.keyword,expression:"params.keyword"}],attrs:{type:"search",placeholder:"请输入想找的楼盘名称"},domProps:{value:e.params.keyword},on:{keyup:e.showSearchResult,input:function(s){s.target.composing||e.$set(e.params,"keyword",s.target.value)}}})])]),e._v(" "),t("div",{staticClass:"my-search-right right",on:{click:function(s){e.$emit("hideSearch")}}},[e._v("\n      取消\n    ")])]),e._v(" "),e.searchResult.length>0?t("ul",{staticClass:"search-result"},e._l(e.searchResult,function(s,o){return t("li",{key:s.communityId,on:{click:function(t){e.$emit("searchHouse",s)}}},[e._v(e._s(s.communityName))])})):e._e(),e._v(" "),e.houseSearchHistory&&e.houseSearchHistory[e.searchHouseType].length>0&&e.searchResult.length<=0?t("ul",{staticClass:"search-history"},[t("li",[t("span",[e._v("搜索历史")]),t("span",[t("i",{staticClass:"icon iconfont icon-delete",on:{click:function(s){e.deletehouseSearchHistory(e.searchHouseType)}}},[e._v("")])])]),e._v(" "),e._l(e.houseSearchHistory[e.searchHouseType],function(s,o){return t("li",{on:{click:function(t){e.$emit("searchHouseHistory",s)}}},[e._v(e._s(s.name))])})],2):e._e()])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("li",[s("i",{staticClass:"icon iconfont arrow-top"},[this._v("")])])}]};var n=t("vSla")(i,r,!1,function(e){t("9kwg")},"data-v-5d2f0cc2",null);s.default=n.exports}});
//# sourceMappingURL=11.1018e5a88da8355cd9b9.js.map