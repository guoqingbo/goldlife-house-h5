webpackJsonp([3],{"4R8/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("yvAY");var a=s("fc0N"),i=s.n(a),l=s("a3Yh"),o=s.n(l),n=s("pxwZ"),r=s("jkKj"),c=s.n(r),u={data:function(){var t;return t={type:"tab",address_detail:null,center:{lng:116.40387397,lat:39.91488908},houseDetail:"",houseId:this.$route.params.houseId?this.$route.params.houseId:this.$store.state.activeInfo.houseId,isSell:!1,isRent:!0,title:"",price:"",buildarea:"",avgprice:"",forward:"",sell_type:"",floor:"",block_name:"",createtime:"",fitment:"",buildyear:"",maplng:"",maplat:""},o()(t,"center",{lng:120.12,lat:30.16}),o()(t,"imgHouseAttr",[]),o()(t,"sellList",[]),o()(t,"rentList",[]),o()(t,"communityAround",[]),o()(t,"attentionStatus","关注"),o()(t,"cityId","hz"),o()(t,"userType","customer"),o()(t,"houseType","2"),o()(t,"blockId","1"),o()(t,"brokerPhone",""),o()(t,"address",""),o()(t,"sellLength",""),o()(t,"rentLength",""),o()(t,"indexNum","1"),t},created:function(){this.menu(),this.getHouseDetail(),this.$store.commit("setActiveInfo",{houseId:this.houseId,houseType:this.houseType})},components:{},mounted:function(){this.ready()},methods:{getHouseDetail:function(){var t=this,e={cityId:this.cityId,houseId:this.houseId,userType:this.userType,houseType:this.houseType};n.a.getHouseDetail(e).then(function(e){if(e.data.success){console.log(e.data.result);var s=e.data.result;t.houseDetail=s,console.log("houseDetail"),console.log(t.houseDetail),t.title=s.title,t.price=s.price,t.buildarea=s.buildarea,t.avgprice=s.avgprice,t.forward=s.forward,t.sell_type=s.sell_type,t.floor=s.floor,t.block_name=s.block_name,t.createtime=s.createtime,t.fitment=s.fitment,t.buildyear=s.buildyear,t.maplng=s.communityLocation.b_map_x,t.maplat=s.communityLocation.b_map_y,t.imgHouseAttr=s.img,t.center.lng=s.communityLocation.b_map_x,t.center.lat=s.communityLocation.b_map_y,t.cityId=s.cityId,t.blockId=s.block_id,t.brokerPhone=s.brokerPhone,"1"===s.attentionState?(t.attentionStatus="已关注",t.$refs.spanIcon.style.left="7.4rem"):"0"===s.attentionState&&(t.attentionStatus="关注",t.$refs.spanIcon.style.left="8rem"),t.address=s.disrictName+","+s.streetName,t.resetMap(),t.sellList=s.houseInBlock.sell.lists,t.sellLength=s.houseInBlock.sell.tatalCount,t.rentList=s.houseInBlock.rent.lists,t.rentLength=s.houseInBlock.rent.tatalCount,t.communityAround=s.communityAround}else t.$message.error(e.data.errorMessage)}).catch(function(e){t.$message.error("房源详情="+e.data.errorMessage)})},getCommunityDetail:function(){var t=this,e={blockId:this.blockId,city:this.cityId,userType:this.userType,houseType:this.houseType};n.a.getCommunityDetail(e).then(function(e){if(e.data.success){console.log("小区"),console.log(e.data.result);var s=e.data.result;t.sellList=s.houseInblock.sell.lists,t.rentList=s.houseInblock.rent.lists,console.log(t.sellList),t.communityAround=s.communityAround}else t.$message.error(e.data.errorMessage)}).catch(function(e){t.$message.error("小区详情"+e.data.errorMessage)})},handleChange:function(t){this.indexNum=t+1},clickSell:function(){this.houseType=1,this.isSell=!0,this.isRent=!1,this.sellLength>0?(this.$refs.ulDisplay.style.display="",this.$refs.sameSell.style.marginTop="16rem"):(this.$refs.ulDisplay.style.display="none",this.$refs.sameSell.style.marginTop="2rem")},clickRent:function(){this.houseType=2,this.isSell=!1,this.isRent=!0,this.rentLength>0?(this.$refs.ulDisplay.style.display="",this.$refs.sameSell.style.marginTop="16rem"):(this.$refs.ulDisplay.style.display="none",this.$refs.sameSell.style.marginTop="2rem")},clkAttention:function(){var t=this;n.a.isLogin().then(function(e){if(e.data.success){if(console.log(e),"关注"===t.attentionStatus){var s={cityId:t.cityId,businessNum:t.houseId,businessType:"租房",sysType:1,attentionState:1};return console.log(s),void n.a.attention(s).then(function(e){console.log(e.data),e.data.success&&(console.log("关注成功"),t.attentionStatus="已关注",t.$refs.spanIcon.style.left="7.4rem")}).catch(function(t){console.log(t)})}if("已关注"===t.attentionStatus){var a={cityId:t.cityId,businessNum:t.houseId,businessType:"租房",sysType:1,attentionState:0};n.a.attention(a).then(function(e){console.log(e.data),e.data.success&&(console.log("取消关注"),t.attentionStatus="关注",t.$refs.spanIcon.style.left="8rem")}).catch(function(t){console.log(t)})}}})},menu:function(){window.scrollTo(0,0)},phoneCall:function(){var t=this;i()({title:"",message:"呼叫："+this.brokerPhone,showCancelButton:!0}).then(function(e){"confirm"==e&&(window.location.href="tel://"+t.brokerPhone)})},clkVillage:function(){(this.isSell&&this.sellLength>0||this.isRent&&this.rentLength>0)&&(console.log(this.isSell),this.$router.push({name:"villageMore",params:{more:this.isSell?this.sellList:this.rentList,villageName:this.title,id:this.blockId,houseType:this.houseType}}))},getHomeDetail:function(t){t==this.houseId||(this.houseId=t,this.houseType="2",this.getHouseDetail()),this.menu()},ready:function(){var t=new c.a.Map("allmap");window.map=t;var e=new c.a.Point(this.maplng,this.maplat),s=new c.a.Marker(e);t.addOverlay(s),t.disableDragging(),t.centerAndZoom(e,16)},resetMap:function(){var t=new c.a.Point(this.maplng,this.maplat),e=new c.a.Marker(t);map.addOverlay(e),map.disableDragging(),map.centerAndZoom(t,16),map.panTo(t);var s=new c.a.Label(this.address,{position:t,offset:new c.a.Size(-26,0)});s.setStyle({backgroundColor:"#fff",padding:"0.5rem",border:"",fontSize:".1rem"}),map.addOverlay(s)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"houseRentDetail"},[a("div",{attrs:{id:"nav-rent"}},[a("ul",[a("li",{staticClass:"menu"},[a("span",{staticClass:"go-back",on:{click:function(e){t.$router.go(-1)}}},[a("i",{staticClass:"icon iconfont go-back-icon"},[t._v("")])])]),t._v(" "),a("span",{staticClass:"village"},[t._v("房源")])])]),t._v(" "),a("div",{staticClass:"content-rent"},[a("div",{staticClass:"imgDiv"},[a("router-link",{attrs:{to:{name:"imgIncrease",params:{imgs:t.imgHouseAttr,title:t.title}}}},[t.imgHouseAttr.length>0?a("div",{staticClass:"swiper-container"},[a("mt-swipe",{attrs:{auto:0,"show-indicators":!1},on:{change:t.handleChange}},t._l(t.imgHouseAttr,function(t,e){return a("mt-swipe-item",{key:e},[a("img",{attrs:{src:t}})])}))],1):a("div",[a("img",{attrs:{src:s("K2Dr")}})]),t._v(" "),t.imgHouseAttr.length>0?a("div",{staticClass:"showNum"},[t._v(t._s(t.indexNum)+"/"+t._s(t.imgHouseAttr.length))]):t._e()])],1),t._v(" "),a("div",{staticClass:"house-content"},[a("h2",{staticClass:"villageName"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"div-houseDes"},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-row",{staticClass:"el-houseDes"},[a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.price))])]),t._v(" "),a("el-row",{staticClass:"el-houseDes"},[a("p",{staticClass:"des"},[t._v("租金")])])],1),t._v(" "),a("el-col",{attrs:{span:1}},[a("el-row",[a("div",{staticClass:"div-line"})])],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-row",{staticClass:"el-houseDes"},[a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.buildarea))])]),t._v(" "),a("el-row",{staticClass:"el-houseDes"},[a("p",{staticClass:"des"},[t._v("建筑面积")])])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"divide"}),t._v(" "),a("div",{staticClass:"detailDes"},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-row",{staticClass:"el-detailDes"},[a("p",[t._v("朝向： "),a("span",{staticClass:"data-show"},[t._v(t._s(t.forward))])])]),t._v(" "),a("el-row",{staticClass:"el-detailDes"},[a("p",[t._v("类型： "),a("span",{staticClass:"data-show"},[t._v(t._s(t.sell_type))])])]),t._v(" "),a("el-row",{staticClass:"el-detailDes"},[a("p",[t._v("年代： "),a("span",{staticClass:"data-show"},[t._v(t._s(t.buildyear))])])])],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-row",{staticClass:"el-detailDes"},[a("p",[t._v("挂牌： "),a("span",{staticClass:"data-show"},[t._v(t._s(t.createtime))])])]),t._v(" "),a("el-row",{staticClass:"el-detailDes"},[a("p",[t._v("装修： "),a("span",{staticClass:"data-show"},[t._v(t._s(t.fitment))])])]),t._v(" "),a("br"),t._v(" "),a("el-row",{staticClass:"el-detailDes"},[a("p")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-row",{staticClass:"el-detailDes"},[a("router-link",{attrs:{to:{name:"villageDetail",params:{blockId:t.blockId,cityId:t.cityId,userType:t.userType,houseType:t.houseType}}}},[a("p",[t._v("小区： "),a("span",{staticStyle:{color:"#ffc16b"}},[t._v(t._s(t.block_name))])])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-row",{staticClass:"el-detailDes"},[a("router-link",{attrs:{to:{name:"villageDetail",params:{blockId:t.blockId,cityId:t.cityId,userType:t.userType,houseType:t.houseType}}}},[a("p",[a("span",{staticClass:"span-bold"},[a("i",{staticClass:"icon iconfont right"},[t._v("")])])])])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"homeMap"},[a("router-link",{attrs:{to:{name:"mapIncrease",params:{x:t.center.lng,y:t.center.lat}}}},[a("div",{staticClass:"allmap",attrs:{id:"allmap"}})])],1),t._v(" "),a("div",{staticClass:"sameArea"},[a("el-row",[a("el-col",{attrs:{span:16}},[a("p",[t._v("同小区房源")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("p",{class:{"class-color":t.isRent},on:{click:function(e){t.clickRent()}}},[t._v("在租")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("p",{class:{"class-color":t.isSell},on:{click:function(e){t.clickSell()}}},[t._v("在售")])])],1),t._v(" "),a("ul",{ref:"ulDisplay",staticClass:"category-head"},[t._l(t.sellList,function(e){return t.isSell?a("li",[a("router-link",{attrs:{to:{name:"houseBuyDetail",params:{cityId:t.cityId,houseId:t.houseId,userType:t.userType,houseType:t.houseType}}}},[a("img",{attrs:{src:e.pic?e.pic:s("16yI")}}),a("br"),t._v(" "),a("p",[t._v(t._s(e.room_type)+"|"+t._s(e.buildarea)+"|"+t._s(e.forward))]),t._v(" "),a("p",[a("span",{staticStyle:{color:"#e10000"}},[t._v(t._s(e.price))]),t._v("   "+t._s(e.avgprice))])])],1):t._e()}),t._v(" "),t._l(t.rentList,function(e){return t.isRent?a("li",{on:{click:function(s){t.getHomeDetail(e.id)}}},[a("img",{attrs:{src:e.pic?e.pic:s("16yI")}}),a("br"),t._v(" "),a("p",[t._v(t._s(e.room_type)+"|"+t._s(e.buildarea)+"|"+t._s(e.forward))]),t._v(" "),a("p",[a("span",{staticStyle:{color:"#e10000"}},[t._v(t._s(e.price))])])]):t._e()})],2)],1),t._v(" "),a("div",{ref:"sameSell",staticClass:"sameSells",on:{click:function(e){t.clkVillage()}}},[t.isSell?a("div",[t._v("\n        同小区在售"+t._s(t.sellLength)+"套\n      ")]):t.isRent?a("div",[t._v("\n        同小区在租"+t._s(t.rentLength)+"套\n      ")]):t._e()]),t._v(" "),a("div",{staticClass:"divide2"}),t._v(" "),t.communityAround.length>0?a("div",{staticClass:"sameArea"},[a("p",[t._v("周边小区")]),t._v(" "),a("ul",{staticClass:"category-head"},t._l(t.communityAround,function(e){return a("li",[a("router-link",{attrs:{to:{name:"villageDetail",params:{blockId:e.id,cityId:t.cityId,userType:t.userType,houseType:t.houseType}}}},[a("img",{attrs:{src:e.surface_img?e.surface_img:s("16yI")}}),a("br"),t._v(" "),a("p",{staticStyle:{color:"#885D24"}},[t._v(t._s(e.build_date)+"年建")]),t._v(" "),a("p",[t._v(t._s(e.cmt_name))]),t._v(" "),a("p",{staticClass:"p-bottom"},[a("span",{staticStyle:{color:"#e10000"}},[t._v(t._s(e.averprice)+"元/平")])])])],1)}))]):t._e(),t._v(" "),t.communityAround.length>0?a("div",{staticClass:"empty"}):a("div",{staticClass:"empty2"}),t._v(" "),a("div",{staticClass:"button-bottom"},[a("el-row",{staticClass:"el-bt"},[a("el-col",{staticClass:"grid-bt-content bg-bt-light",attrs:{span:12}},[a("div",{on:{click:function(e){t.clkAttention()}}},[a("i",{staticClass:"icon iconfont xl"},[t._v("")]),a("br"),a("span",{ref:"spanIcon",staticClass:"span-icon"},[t._v(t._s(t.attentionStatus))])])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-bt-content bg-bt centenr",on:{click:function(e){t.phoneCall()}}},[a("span",[t._v("联系经纪人")])])])],1)],1)]),t._v(" "),a("keep-alive",[a("router-view")],1)],1)},staticRenderFns:[]};var p=s("vSla")(u,d,!1,function(t){s("kr7N")},null,null);e.default=p.exports},JhHb:function(t,e,s){s("SAFe");var a=s("AKd3").Object;t.exports=function(t,e,s){return a.defineProperty(t,e,s)}},SAFe:function(t,e,s){var a=s("FITv");a(a.S+a.F*!s("sjnA"),"Object",{defineProperty:s("lIiZ").f})},a3Yh:function(t,e,s){"use strict";e.__esModule=!0;var a,i=s("liLe"),l=(a=i)&&a.__esModule?a:{default:a};e.default=function(t,e,s){return e in t?(0,l.default)(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},kr7N:function(t,e){},liLe:function(t,e,s){t.exports={default:s("JhHb"),__esModule:!0}}});
//# sourceMappingURL=3.d8b1b58680f073092bf7.js.map